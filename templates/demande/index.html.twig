{% extends 'base.html.twig' %}

{% block title %}Les Demandes{% endblock %}

{% block content %}


<select class="js-example-basic-multiple" name="states[]" multiple="multiple">
  <option value="AL">Alabama</option>
  <option value="AO">FRFR</option>
  <option value="AG">RRGHBT</option>
  <option value="WY">Wyoming</option>
</select>



<div class="container">
  {% for notice in app.flashes('notice') %}
      <div class="alert alert-info"> {{ notice }}</div>
  {% endfor %}

 <h3>Filtrer</h3>
         {{ form(form)}}

<h1 class="h3 mb-2 text-gray-800">Les Demandes</h1>

<div class="row justify-content-center mt-4">
<div class="col-12">
<div class="card shadow mb-4">
<div class="table-responsive bg-white">
    <table class="table mb-0">
        <thead class="thead-d">
            <tr>
                <th class="styleTitleList">N° demande</th>
                <th class="styleTitleList">Nom Client</th>
                <th class="styleTitleList">Adresse</th>
                <th class="styleTitleList">Ville</th>
                <th class="styleTitleList">Code Postal</th>
                <th class="styleTitleList">Email</th>
                <th class="styleTitleList">Téléphone </th>
                <th class="styleTitleList">Date installation</th>
                <th class="styleTitleList">Type Appareil</th>
                <th class="styleTitleList">Nbr Appareil</th>
                <th class="styleTitleList">Statut</th>
                <th class="styleTitleList">Description</th>
                <th class="styleTitleList">Date création</th>
                <th class="styleTitleList">Actions</th>
            </tr>
        </thead>
        <tbody class="tbody-d">
        {% for demande in demandes %}
            <tr class="styletd">
                <td>{{ demande.id }}</td>
                <td>{{ demande.nomClient }}</td>
                <td>{{ demande.adresse }}</td>
                <td>{{ demande.ville }}</td>
                <td>{{ demande.codePostal }}</td>
                <td>{{ demande.email }}</td>
                <td>{{ demande.telephone }}</td>
                <td>{{ demande.dateDisponibilite ? demande.dateDisponibilite|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ demande.TypeAppareil }}</td>
                <td>{{ demande.nbrAppareil }}</td>
                <td>{{ demande.statut }}</td>
                <td>{{ demande.description |raw }}</td>
                <td>{{ demande.createdAt ? demande.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>
                    <a href="{{ path('app_demande_show_statut', {'id': demande.id}) }}"><i class="fa-solid fa-eye"></i></a>
                        {% if app.user.isManager() %}
                    <a href="{{ path('app_demande_edit', {'id': demande.id}) }}"><i class="fa-solid fa-pen"></i></a>
                        {% endif %}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="12">Aucun enregistrement trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</div>
    </div>
</div>
</div>  

{% endblock %}
